<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>TASK_E</title>
    <script id="vertex-shader" type="x-shader/x-vertex">
    #version 300 es
    in vec4 vPosition;
    void main(){
        gl_Position = vPosition;
    }
    </script>

    <script id="fragment-shader" type="x-shader/x-fragment">
    #version 300 es
    precision mediump float;
    out vec4 fColor;
    void main(){
        fColor = vec4(1.0, 0.0, 0.0, 1.0);
    }
    </script>

    <script type="text/javascript" src="../js/common/webgl-utils.js"></script>
    <script type="text/javascript" src="../js/common/initShaders.js"></script>
    <script type="text/javascript" src="../js/common/gl-matrix-min.js"></script>

    <script type="text/javascript" src="../js/ch02/triangle-tessa03.js"></script>
</head>

<body>
    <h2>Triangle Tessellation with Distance-Based Rotation</h2>
    <label for="subdivision-level">Subdivision Level:</label>
    <input type="number" id="subdivision-level" value="0" min="0" max="6">
    <label for="rotation-angle">Base Rotation Angle (degrees):</label>
    <input type="number" id="rotation-angle" value="0" min="0" max="360">
    <button onclick="updateSubdivision()">Update</button>
    <canvas id="gl-canvas" width="600" height="600">你的浏览器不支持HTML5 canvas元素</canvas>
</body>

<script>
function updateSubdivision() {
    const level = document.getElementById("subdivision-level").value;
    const angle = document.getElementById("rotation-angle").value;
    numTimesToSubdivide = parseInt(level); // 更新分层次数
    rotationAngle = parseFloat(angle); // 更新旋转角度
    drawTriangles(); // 重新生成分形数据
    renderTriangles(); // 重新绘制图形
}
</script>

</html>